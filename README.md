# 曲线拟合软件

一个功能强大的曲线拟合工具，支持实验数据模式和数学分析模式，提供多种拟合方法和异常值过滤功能。

## 项目介绍

软件支持两种主要工作模式：实验数据模式（适用于实验测量数据的处理与分析）和数学模式（适用于数学函数的拟合与分析）。

## 功能特性

### 通用功能
- 支持多种拟合方法
- 异常值检测与过滤（单次过滤和迭代过滤）
- 数据可视化展示
- 详细的统计分析报告
- 用户友好的界面操作

### 实验数据模式
- 多项式拟合
- 平滑样条拟合
- 迭代异常值过滤算法
- 数据统计分析
- 拟合质量评估

### 数学模式
- 多种数学函数拟合
- 迭代异常值过滤（固定最大迭代次数为5）
- 回归系数计算
- 详细的统计结果展示

## 系统要求

- Python 3.7+
- 依赖库：PySide6, numpy, scipy, matplotlib

## 安装说明

1. 确保已安装Python 3.7或更高版本

2. 克隆或下载项目代码

3. 安装依赖库

```bash
pip install -r requirements.txt
```

主要依赖库版本：
- PySide6==6.6.0 （GUI框架）
- numpy==1.26.0 （数值计算）
- matplotlib==3.8.0 （绘图功能）
- scipy==1.11.3 （科学计算和拟合算法）

## 使用方法

### 启动程序

在项目根目录下运行：

```bash
python main.py
```

### 选择工作模式

启动后，首先选择工作模式（实验数据模式或数学模式）。

### 实验数据模式

1. 输入实验数据（X和Y坐标）
   - 支持手动输入
2. 选择拟合方法（多项式或平滑样条）
3. 设置异常值过滤参数（如果需要）
   - 通过spinbox调整过滤阈值
4. 点击拟合按钮进行分析
5. 查看拟合曲线和统计分析结果
   - 图表显示原始数据点（蓝色）和异常值（红色叉号）
   - 统计结果包括拟合参数、相关系数等

### 数学模式

1. 输入数据点
2. 选择拟合函数类型
   - 支持线性函数、二次函数、指数函数、对数函数等多种预设数学函数
3. 设置异常值过滤阈值（如果需要）
4. 执行回归分析
5. 查看分析结果和统计信息

### 数学函数类型

软件支持多种常见的数学函数拟合：
- 线性函数: y = a * x + b
- 二次函数: y = a * x² + b * x + c
- 指数函数: y = a * exp(b * x)
- 对数函数: y = a * log(x) + b
- 幂函数: y = a * x^b


## 异常值过滤

软件支持两种异常值过滤方式：


 **迭代过滤**：固定最大迭代次数为5，设置提前停止条件
   - 上一次迭代无异常值过滤
   - 数据点少于5个
   - 达到迭代次数上限

过滤阈值可通过界面上的spinbox控件进行调整，影响过滤的严格程度。

## 项目结构

```
fitted_curve/g2/
├── .ui/                    # UI设计文件
│   ├── __init__.py
│   ├── 曲线拟合-实验数据模式.ui
│   └── 曲线拟合-数学模式.ui
├── gui/                    # GUI实现代码
│   ├── __init__.py
│   ├── ui_choose_mode.py   # 模式选择界面
│   ├── ui_experiment_mode.py  # 实验模式界面
│   ├── ui_exp_mode_update.py  # 实验模式更新界面
│   ├── ui_math_mode.py     # 数学模式界面
│   └── experiment_mode_window.py  # 实验模式窗口实现
├── utils/                  # 工具函数
│   ├── __init__.py
│   ├── fitting_functions.py  # 拟合相关函数
│   ├── experiment_mode_utils.py  # 实验模式工具函数
│   └── math_mode_utils.py  # 数学模式工具函数
├── auto_init.py            # 自动初始化脚本
├── main.py                 # 主程序入口
├── requirements.txt        # 依赖库列表
└── README.md               # 项目说明文档
```

## 技术说明

### 异常值检测算法

- **迭代过滤**：通过多次迭代提高过滤效果，每次迭代基于当前数据重新拟合并检测异常值

### 拟合算法

- **多项式拟合**：使用最小二乘法进行多项式拟合
- **样条拟合**：使用scipy的样条插值进行平滑拟合
- **数学函数拟合**：支持多种预定义数学函数的拟合

## 许可证

本项目采用GNU通用公共许可证（GPL v3）。

## 联系方式

如有问题或建议，请联系项目维护者。
